<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Formular</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    />
    <style>
      label {
        margin-top: 10px;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div class="row">
        <form id="form" class="col-8" onsubmit="submit()">
          <h2 style="margin-bottom: 20px;">Formular</h2>

          <label class="input-group-text" for="vname">
            Vorname:

            <input
              type="text"
              class="form-control"
              id="vname"
              name="vname"
              required
            />
          </label>

          <label class="input-group-text" for="name">
            Name:

            <input
              type="text"
              class="form-control"
              id="name"
              name="name"
              required
            />
          </label>

          <label class="input-group-text" for="date">
            Geburtsdatum:

            <input
              onchange="ageVali()"
              type="date"
              class="form-control"
              id="date"
              name="date"
              required
            />
          </label>

          <label class="input-group-text" for="adresse">
            Adresse:

            <input class="form-control" id="adresse" name="adresse" />
          </label>

          <label class="input-group-text" for="tele">
            Mailadresse:

            <input
              onchange="mailVali()"
              type="text"
              class="form-control"
              id="email"
              name="email"
              required
            />
          </label>

          <label class="input-group-text" for="tele">
            Telefonnummer:

            <input
              type="number"
              class="form-control"
              id="tele"
              name="tele"
              required
            />
          </label>

          <input style="margin-top: 20px;" type="submit" value="senden" />
        </form>
      </div>
    </div>
  </body>

  <script>
    function submit() {
      alert("Erfolgreich gesendet!");
    }

    function ageVali() {
      var today = new Date();

      var yyyy = today.getFullYear();
      var mm = today.getMonth() + 1;
      var dd = today.getDate();

      let d = document.getElementById("date").value.split("-");

      let ipyear = Number(d[0]);
      let ipmonth = Number(d[1]);
      let ipday = Number(d[2]);

      if (yyyy - ipyear > 18) {
        document.getElementById("date").removeAttribute("title");
        document.getElementById("date").style.borderColor = "";
        document.getElementById("date").setCustomValidity("");
      } else if (yyyy - ipyear == 18 && ipmonth < mm) {
        document.getElementById("date").removeAttribute("title");
        document.getElementById("date").style.borderColor = "";
        document.getElementById("date").setCustomValidity("");
      } else if (yyyy - ipyear == 18 && ipmonth == mm && ipday <= dd) {
        document.getElementById("date").removeAttribute("title");
        document.getElementById("date").style.borderColor = "";
        document.getElementById("date").setCustomValidity("");
      } else {
        document.getElementById("date").style.borderColor = "red";
        document.getElementById("date").title =
          "Sie müssen mindestens 18 Jahre alt sein.";
        document
          .getElementById("date")
          .setCustomValidity("Sie müssen mindestens 18 Jahre alt sein.");
      }
    }

    function mailVali() {
      var mail = document.getElementById("email").value;

      var str = mail;
      var patt = new RegExp("^[a-zA-Z]{4}[@][a-zA-Z]{4}[.][a-zA-Z]{4}$");

      var res = patt.test(mail);

      if (res == false) {
        document.getElementById("email").style.borderColor = "red";
        document.getElementById("email").title =
          "Erwartetes Format xxxx@xxxx.xxxx";
        document
          .getElementById("email")
          .setCustomValidity("Erwartetes Format xxxx@xxxx.xxxx");
      } else {
        document.getElementById("email").style.borderColor = "";
        document.getElementById("email").removeAttribute("title");
        document.getElementById("email").setCustomValidity("");
      }
    }
  </script>
</html>
